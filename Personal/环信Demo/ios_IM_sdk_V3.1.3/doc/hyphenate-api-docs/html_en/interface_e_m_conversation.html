<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>HyphenateSDK: EMConversation Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HyphenateSDK
   &#160;<span id="projectnumber">3.1.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_e_m_conversation-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">EMConversation Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_e_m_conversation_8h_source.html">EMConversation.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for EMConversation:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_e_m_conversation.png" usemap="#EMConversation_map" alt=""/>
  <map id="EMConversation_map" name="EMConversation_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:adec509d5087b169d94b2305f90580243"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#adec509d5087b169d94b2305f90580243">insertMessage:</a></td></tr>
<tr class="separator:adec509d5087b169d94b2305f90580243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1864655264ebe5662ef7c7845478a6fc"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a1864655264ebe5662ef7c7845478a6fc">deleteMessageWithId:</a></td></tr>
<tr class="separator:a1864655264ebe5662ef7c7845478a6fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f7cce3621d3df6a5d6d89b3b8e80bf"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#aa5f7cce3621d3df6a5d6d89b3b8e80bf">deleteAllMessages</a></td></tr>
<tr class="separator:aa5f7cce3621d3df6a5d6d89b3b8e80bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dca17de552da315a566bb1596cd1ce1"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a4dca17de552da315a566bb1596cd1ce1">updateMessage:</a></td></tr>
<tr class="separator:a4dca17de552da315a566bb1596cd1ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88921d790b4252976b0cd7ca09e34133"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a88921d790b4252976b0cd7ca09e34133">markMessageAsReadWithId:</a></td></tr>
<tr class="separator:a88921d790b4252976b0cd7ca09e34133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa31b1ec20d525998a5ca00352227e86b"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#aa31b1ec20d525998a5ca00352227e86b">markAllMessagesAsRead</a></td></tr>
<tr class="separator:aa31b1ec20d525998a5ca00352227e86b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf23778a85147bceed41fb60f51c654"><td class="memItemLeft" align="right" valign="top">(&quot;setExt: will update extend properties to DB&quot;)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#abaf23778a85147bceed41fb60f51c654">__deprecated_msg</a></td></tr>
<tr class="separator:abaf23778a85147bceed41fb60f51c654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb5a2ad74dda943f56f7da4585f2a1a5"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_e_m_message.html">EMMessage</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#acb5a2ad74dda943f56f7da4585f2a1a5">loadMessageWithId:</a></td></tr>
<tr class="separator:acb5a2ad74dda943f56f7da4585f2a1a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c69fcce8b43e59a23e1f7fd47f5180"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a96c69fcce8b43e59a23e1f7fd47f5180">loadMoreMessagesFromId:limit:direction:</a></td></tr>
<tr class="separator:a96c69fcce8b43e59a23e1f7fd47f5180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2635bf1a082d257158499516840da6ec"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a2635bf1a082d257158499516840da6ec">loadMoreMessagesWithType:before:limit:from:direction:</a></td></tr>
<tr class="separator:a2635bf1a082d257158499516840da6ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a1b7f9440e6f04445c04d70a569c148"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a4a1b7f9440e6f04445c04d70a569c148">loadMoreMessagesContain:before:limit:from:direction:</a></td></tr>
<tr class="separator:a4a1b7f9440e6f04445c04d70a569c148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a6eb956d2713f689a7471912e6d7368"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#a3a6eb956d2713f689a7471912e6d7368">loadMoreMessagesFrom:to:maxCount:</a></td></tr>
<tr class="separator:a3a6eb956d2713f689a7471912e6d7368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedadc24a089c35ceba41bd87a8eb2f98"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_e_m_message.html">EMMessage</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_e_m_conversation.html#aedadc24a089c35ceba41bd87a8eb2f98">latestMessageFromOthers</a></td></tr>
<tr class="separator:aedadc24a089c35ceba41bd87a8eb2f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:adadfc8b72fb52e6ec461417ac9e26221"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_e_m_conversation.html#adadfc8b72fb52e6ec461417ac9e26221">conversationId</a></td></tr>
<tr class="separator:adadfc8b72fb52e6ec461417ac9e26221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88337abd048972a28dfcc92a8f26a363"><td class="memItemLeft" align="right" valign="top">EMConversationType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_e_m_conversation.html#a88337abd048972a28dfcc92a8f26a363">type</a></td></tr>
<tr class="separator:a88337abd048972a28dfcc92a8f26a363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f666957be5047ae9560942f168b078"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_e_m_conversation.html#ac0f666957be5047ae9560942f168b078">unreadMessagesCount</a></td></tr>
<tr class="separator:ac0f666957be5047ae9560942f168b078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a164480add35abfde2c733d264373388a"><td class="memItemLeft" align="right" valign="top">NSDictionary *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_e_m_conversation.html#a164480add35abfde2c733d264373388a">ext</a></td></tr>
<tr class="separator:a164480add35abfde2c733d264373388a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a7bd7077a0bdffcf81fe3f282fe416"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_e_m_message.html">EMMessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_e_m_conversation.html#a21a7bd7077a0bdffcf81fe3f282fe416">latestMessage</a></td></tr>
<tr class="separator:a21a7bd7077a0bdffcf81fe3f282fe416"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Chat conversation </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="abaf23778a85147bceed41fb60f51c654"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- &quot;setExt: </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update conversation extend properties to DB</p>
<dl class="section return"><dt>Returns</dt><dd>Extend properties update result, YES: success, No: fail </dd></dl>

</div>
</div>
<a class="anchor" id="aa5f7cce3621d3df6a5d6d89b3b8e80bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) deleteAllMessages </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete all message of the conversation</p>
<dl class="section return"><dt>Returns</dt><dd>Delete result, YES: success, No: fail </dd></dl>

</div>
</div>
<a class="anchor" id="a1864655264ebe5662ef7c7845478a6fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) deleteMessageWithId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>Message's ID who will be deleted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message delete result, YES: success, No: fail </dd></dl>

</div>
</div>
<a class="anchor" id="adec509d5087b169d94b2305f90580243"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) insertMessage: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_message.html">EMMessage</a> *)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert a message to conversation, message's conversationId should equle to conversation's conversationId, message will be inserted to DB, and update conversation's property</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>Message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message insert result, YES: success, No: fail </dd></dl>

</div>
</div>
<a class="anchor" id="aedadc24a089c35ceba41bd87a8eb2f98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_e_m_message.html">EMMessage</a> *) latestMessageFromOthers </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get latest message that received from others</p>
<dl class="section return"><dt>Returns</dt><dd>Message instance </dd></dl>

</div>
</div>
<a class="anchor" id="acb5a2ad74dda943f56f7da4585f2a1a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_e_m_message.html">EMMessage</a> *) loadMessageWithId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a message with the ID</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>Message's id</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message instance </dd></dl>

</div>
</div>
<a class="anchor" id="a4a1b7f9440e6f04445c04d70a569c148"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray *) loadMoreMessagesContain: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aKeywords</em></td>
        </tr>
        <tr>
          <td class="paramkey">before:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">limit:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aLimit</em></td>
        </tr>
        <tr>
          <td class="paramkey">from:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">direction:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get more messages contain specified keywords from DB, result messages are sorted by received time, if reference timestamp is negative, will fetch message from latest message, andd will fetch all messages that meet the condition if aLimit is negative</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aKeywords</td><td>Search content, will ignore it if it's empty </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>Reference timestamp </td></tr>
    <tr><td class="paramname">aLimit</td><td>Count of messages to load </td></tr>
    <tr><td class="paramname">aSender</td><td>Message sender, will ignore it if it's empty </td></tr>
    <tr><td class="paramname">aDirection</td><td>Message search direction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message list&lt;EMMessage&gt; </dd></dl>

</div>
</div>
<a class="anchor" id="a3a6eb956d2713f689a7471912e6d7368"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray *) loadMoreMessagesFrom: </td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aStartTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">to:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aEndTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">maxCount:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aMaxCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load messages from DB in duration, result messages are sorted by receive time, user should limit the max count to load to avoid memory issue</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aStartTimestamp</td><td>Start time's timestamp in miliseconds </td></tr>
    <tr><td class="paramname">aEndTimestamp</td><td>End time's timestamp in miliseconds </td></tr>
    <tr><td class="paramname">aMaxCount</td><td>Message search direction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message list&lt;EMMessage&gt; </dd></dl>

</div>
</div>
<a class="anchor" id="a96c69fcce8b43e59a23e1f7fd47f5180"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray *) loadMoreMessagesFromId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">limit:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aLimit</em></td>
        </tr>
        <tr>
          <td class="paramkey">direction:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get more messages from DB, result messages are sorted by receive time, and NOT include the reference message, if reference messag's ID is nil, will fetch message from latest message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>Reference message's ID </td></tr>
    <tr><td class="paramname">aLimit</td><td>Count of messages to load </td></tr>
    <tr><td class="paramname">aDirection</td><td>Message search direction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message list&lt;EMMessage&gt; </dd></dl>

</div>
</div>
<a class="anchor" id="a2635bf1a082d257158499516840da6ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray *) loadMoreMessagesWithType: </td>
          <td></td>
          <td class="paramtype">(EMMessageBodyType)&#160;</td>
          <td class="paramname"><em>aType</em></td>
        </tr>
        <tr>
          <td class="paramkey">before:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">limit:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aLimit</em></td>
        </tr>
        <tr>
          <td class="paramkey">from:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">direction:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get more messages with specified type from DB, result messages are sorted by received time, if reference timestamp is negative, will fetch message from latest message, andd will fetch all messages that meet the condition if aLimit is negative</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aType</td><td>Message type to load </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>Reference timestamp </td></tr>
    <tr><td class="paramname">aLimit</td><td>Count of messages to load </td></tr>
    <tr><td class="paramname">aSender</td><td>Message sender, will ignore it if it's empty </td></tr>
    <tr><td class="paramname">aDirection</td><td>Message search direction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message list&lt;EMMessage&gt; </dd></dl>

</div>
</div>
<a class="anchor" id="aa31b1ec20d525998a5ca00352227e86b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) markAllMessagesAsRead </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark all message as read</p>
<dl class="section return"><dt>Returns</dt><dd>Result of mark all message as read, YES: success, No: fail </dd></dl>

</div>
</div>
<a class="anchor" id="a88921d790b4252976b0cd7ca09e34133"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) markMessageAsReadWithId: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark a message as read</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>Message's ID who will be set read status</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of mark message as read, YES: success, No: fail </dd></dl>

</div>
</div>
<a class="anchor" id="a4dca17de552da315a566bb1596cd1ce1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) updateMessage: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_message.html">EMMessage</a> *)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update a message, can't update message's messageId, conversation's latestMessage and so on properties will update after update the message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>Message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message update result, YES: success, No: fail </dd></dl>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="adadfc8b72fb52e6ec461417ac9e26221"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) conversationId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">copy</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Unique identifier of conversation </p>

</div>
</div>
<a class="anchor" id="a164480add35abfde2c733d264373388a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSDictionary*) ext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">nonatomic</span><span class="mlabel">copy</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Conversation extend property </p>

</div>
</div>
<a class="anchor" id="a21a7bd7077a0bdffcf81fe3f282fe416"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_e_m_message.html">EMMessage</a>*) latestMessage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Conversation latest message </p>

</div>
</div>
<a class="anchor" id="a88337abd048972a28dfcc92a8f26a363"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (EMConversationType) type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Conversation type </p>

</div>
</div>
<a class="anchor" id="ac0f666957be5047ae9560942f168b078"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (int) unreadMessagesCount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Count of unread messages </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>export/include/<a class="el" href="_e_m_conversation_8h_source.html">EMConversation.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
